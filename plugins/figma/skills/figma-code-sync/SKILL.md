---
name: figma-code-sync
version: v1.0
description: Verifies that the implemented code matches the Figma design mapping. Use when you want to validate the implementation against the Figma design, check for missing components, style mismatches, or gaps between the design mapping and the actual code. Triggers on requests like "check if the implementation matches Figma", "validate design sync", "figma code sync", or "verify design implementation".
tags: [figma, sync, verify, design-match, implementation]
requires: [figma-framework-figma-mapper]
allowed-tools: Read, Grep, Glob, mcp__figma__get_file, mcp__figma__get_node
---

# Figma Code Sync â€” Design Implementation Verifier

Figmaãƒ‡ã‚¶ã‚¤ãƒ³ã¨ã‚³ãƒ¼ãƒ‰å®Ÿè£…ã®ä¸€è‡´ã‚’æ¤œè¨¼ã™ã‚‹ã‚¹ã‚­ãƒ«ã€‚
ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨ã¨å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã‚’ç…§åˆã—ã€æŠœã‘ã‚„ä¹–é›¢ã‚’æ¤œå‡ºã™ã‚‹ã€‚

---

## Prerequisites

- **Figma MCP** must be configured
- `figma-framework-figma-mapper` must have been run (mapping table required)
- `figma-design-token-extractor` must have been run (tokens file required)
- Code implementation must exist in the project

---

## Step 1 â€” Load Mapping Table

Read the component mapping table generated by `figma-framework-figma-mapper`.

```
Look for:
  - context.md (generated by figma-project-context)
  - figma-mapping.md or figma-mapping.json
  - Any file named *mapping* in the project root or docs/
```

Extract:
- Figma component name
- Framework component name
- Expected props/variants
- Design token references

If no mapping table exists â†’ stop and instruct:
> "å…ˆã« `figma-framework-figma-mapper` ã‚¹ã‚­ãƒ«ã‚’å®Ÿè¡Œã—ã¦ãƒãƒƒãƒ”ãƒ³ã‚°è¡¨ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚"

---

## Step 2 â€” Load Design Tokens

Read the token file generated by `figma-design-token-extractor`.

```
Look for:
  - tokens.ts / tokens.js
  - tailwind.config.ts / tailwind.config.js (design token section)
  - design-tokens.json
  - styles/tokens.css or styles/variables.css
```

Extract:
- Color tokens (primary, secondary, neutral, semantic)
- Typography tokens (font-family, font-size, line-height)
- Spacing tokens (padding, margin, gap)
- Shadow / border-radius tokens

If no token file exists â†’ flag as WARN (continue, but note the gap).

---

## Step 3 â€” Scan Implementation Code

Scan the codebase for implemented components and their usage.

```
Glob patterns to check:
  - src/components/**/*.tsx
  - src/components/**/*.vue
  - src/components/**/*.svelte
  - src/pages/**/*.tsx
  - src/views/**/*.vue
  - components/**/*.{tsx,vue,jsx}
```

For each component file, extract:
- Component name
- Props used
- Class names / styles applied
- Design token references (CSS variables, Tailwind classes, token imports)
- Any hardcoded values that should be tokens

---

## Step 4 â€” Run Verification Checks

### Check A: Component Coverage
For each Figma component in the mapping table:
- [ ] Is a corresponding code component implemented?
- [ ] Does the component name match the mapping?
- [ ] Are all required variants covered? (e.g., Button: primary/secondary/ghost/disabled)

### Check B: Design Token Usage
For each design token in the token file:
- [ ] Is the token actually referenced in the code?
- [ ] Are any hardcoded color values present that should use tokens?
  - Pattern: `#[0-9a-fA-F]{3,6}` â€” flag all hardcoded hex colors
  - Pattern: `rgba?\([^)]+\)` â€” flag hardcoded rgba/rgb
  - Pattern: `font-size:\s*\d+px` â€” flag hardcoded font sizes
  - Pattern: `padding:\s*\d+px` â€” flag hardcoded pixel values

### Check C: Props Alignment
For each mapped component:
- [ ] Do the props in the code match what Figma defines?
- [ ] Are required Figma variants implemented as prop values?
- [ ] Are any Figma properties ignored in the implementation?

### Check D: Figma Snapshot Comparison (if Figma MCP available)
Using Figma MCP, fetch the original component node:
- Compare the Figma component's fill colors against code token usage
- Compare text styles (font-family, font-size, weight) against token values
- Flag any visual value that differs by more than an acceptable threshold

---

## Step 5 â€” Output Report

```
## ğŸ”„ Figma Code Sync Report

### âœ… Synced Components
| Figma Component | Code Component | Variants | Tokens |
|-----------------|----------------|----------|--------|
| Button/Primary  | <Button variant="primary"> | âœ… | âœ… |
| Card/Default    | <Card> | âœ… | âœ… |

### âŒ Missing Components
| Figma Component | Status | Action Required |
|-----------------|--------|-----------------|
| Modal/Confirmation | âŒ Not implemented | Create ConfirmModal component |
| Toast/Error | âŒ Not implemented | Create Toast component with error variant |

### âš ï¸ Token Violations (Hardcoded Values)
| File | Line | Hardcoded Value | Expected Token |
|------|------|-----------------|----------------|
| src/components/Button.tsx | 24 | #3B82F6 | var(--color-primary-500) |
| src/components/Card.tsx | 8 | 16px | var(--spacing-4) |

### âš ï¸ Props Mismatch
| Figma Component | Figma Variants | Code Props | Gap |
|-----------------|---------------|------------|-----|
| Button | primary, secondary, ghost, disabled | primary, secondary | Missing: ghost, disabled |

### ğŸ“Š Sync Summary
- Total Figma components: 12
- Implemented: 9 (75%)
- Missing: 3
- Token violations: 5
- Props gaps: 2

**Sync Score: 75%** â€” å®Ÿè£…ã¯æ¦‚ã­å®Œäº†ã—ã¦ã„ã‚‹ãŒã€æœªå®Ÿè£…ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒˆãƒ¼ã‚¯ãƒ³é•åã‚’ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚
```

---

## Step 6 â€” Prioritized Action Plan

After the report, output an ordered fix list:

```
## ğŸ“‹ ä¿®æ­£ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ (å„ªå…ˆé †)

1. [MUST] Missing components â†’ implement before release
   - Modal/Confirmation
   - Toast/Error

2. [MUST] Token violations â†’ replace hardcoded values with tokens
   - src/components/Button.tsx line 24: #3B82F6 â†’ var(--color-primary-500)
   - src/components/Card.tsx line 8: 16px â†’ var(--spacing-4)

3. [SHOULD] Props gaps â†’ add missing variants
   - Button: add `ghost` and `disabled` variants

4. [OPTIONAL] Rename for consistency (if naming differs from mapping)
```

---

## Integration Notes

### With devops-pipeline (Step 5 â€” Frontend Review)

When Figma MCP is available AND a mapping table exists, `devops-frontend-review` should defer to this skill for the structural verification:

- `figma-code-sync` â†’ structural check (components, tokens, props) â† **this skill**
- `devops-frontend-review` â†’ visual check (screenshots, pixel comparison)

Both can run in parallel or sequentially depending on available tools.

### Sync Score Thresholds

| Score | Status | Action |
|-------|--------|--------|
| 90â€“100% | ğŸŸ¢ PASS | Ready for release |
| 70â€“89% | ğŸŸ¡ WARN | Fix before release |
| < 70% | ğŸ”´ FAIL | Significant work needed |

---

*Skill: figma-code-sync | Category: figma | Version: v1.0 | Last updated: 2026-02-21*
