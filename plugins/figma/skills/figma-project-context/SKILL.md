---
name: figma-project-context
version: v1.0
description: Analyzes the project structure and generates a context.md file that captures framework, conventions, directory layout, existing design system, and coding standards. This context is consumed by all downstream Figma skills (token-extractor, mapper, analyzer) to produce framework-aware outputs. Run this first before any Figma-to-code workflow. Triggers on requests like "프로젝트 분석", "project context", "setup context", "analyze project".
tags: [figma, project, context, setup, framework, convention]
allowed-tools: Read, Glob, Grep, Bash
---

# Figma Project Context — プロジェクト構造解析・context.md生成

Figma→コードワークフローの最初に実行し、プロジェクトの構造・フレームワーク・規約を `context.md` に出力する。
下流の全スキル（token-extractor, mapper, analyzer）がこのファイルを参照する。

---

## Trigger Conditions

- First step in any Figma-to-code workflow
- User says "프로젝트 분석", "project context", "setup context", "analyze project"
- figma-to-code agent starts a new conversion task
- User opens a new project and wants to set up the Figma pipeline

---

## Input

| Parameter | Required | Description |
|-----------|----------|-------------|
| Project root directory | Yes | Path to the project root (auto-detected from cwd if not specified) |
| Figma file URL | No | If known, include for reference in context.md |

---

## Step 1 — Detect Project Root

```
1. Look for common root indicators:
   - package.json (Node.js / React / Vue / Next.js / Angular)
   - pom.xml (Java / PrimeFaces)
   - build.gradle (Java / Kotlin)
   - pyproject.toml / setup.py (Python)
   - Cargo.toml (Rust)

2. If none found → ask user to specify project root
```

---

## Step 2 — Detect Framework & Tech Stack

```
Scan project files to identify:

1. Frontend Framework:
   - package.json dependencies → react, vue, angular, next, nuxt, svelte
   - pom.xml dependencies → primefaces, jsf
   - File extensions → .tsx/.jsx (React), .vue (Vue), .xhtml (PrimeFaces)

2. CSS Framework:
   - tailwind.config.{js,ts} → Tailwind CSS
   - primeflex import → PrimeFlex
   - bootstrap import → Bootstrap
   - Custom CSS → check for variables.css, tokens.css, design-system files

3. Build Tool:
   - vite.config.{js,ts} → Vite
   - next.config.{js,ts} → Next.js built-in
   - webpack.config.js → Webpack
   - angular.json → Angular CLI
   - maven / gradle → Java build system

4. Language:
   - tsconfig.json → TypeScript
   - .jsx files only → JavaScript
   - .java files → Java

5. Testing:
   - jest.config / vitest.config → Jest / Vitest
   - cypress.config → Cypress
   - playwright.config → Playwright
```

---

## Step 3 — Analyze Directory Structure

```
Map the project directory layout:

1. Glob for key directories:
   - src/components/** → Component location
   - src/pages/** or src/views/** → Page/route location
   - src/styles/** or styles/** → Style location
   - src/assets/** or public/** → Static assets
   - src/hooks/** or src/composables/** → Custom hooks
   - src/store/** or src/state/** → State management
   - src/api/** or src/services/** → API layer
   - tests/** or __tests__/** → Test location

2. Identify patterns:
   - File naming: PascalCase, kebab-case, camelCase
   - Component structure: single-file, folder-per-component
   - Style approach: CSS modules, styled-components, Tailwind utility, SCSS
```

---

## Step 4 — Detect Existing Design System

```
Check for existing design tokens or style system:

1. Look for token files:
   - tokens.css, tokens.json, _tokens.scss
   - design-tokens/, styles/variables.*
   - tailwind.config with custom theme

2. Look for component library:
   - UI library imports (PrimeReact, MUI, Ant Design, shadcn/ui)
   - Custom component library in src/components/ui/ or src/components/common/

3. Look for design documentation:
   - docs/design-system.md, DESIGN.md
   - Storybook config (.storybook/)
   - style-guide/ directory
```

---

## Step 5 — Detect Coding Conventions

```
Scan for coding standards:

1. Linting:
   - .eslintrc.* → ESLint rules
   - .prettierrc → Prettier config
   - stylelint.config.* → CSS linting
   - checkstyle.xml → Java style

2. Git conventions:
   - .husky/ → Git hooks
   - commitlint.config.* → Commit message format
   - .github/PULL_REQUEST_TEMPLATE → PR template

3. Comment language:
   - Scan 5-10 source files for comment language (Japanese, Korean, English)
   - Check for file header patterns

4. Import conventions:
   - Path aliases (@ → src/, ~ → root)
   - Import order patterns
```

---

## Step 6 — Generate context.md

Save `context.md` to the project root (or docs/ if it exists).

```markdown
# Project Context

> Generated by figma-project-context | {date}

## Tech Stack

| Category | Value |
|----------|-------|
| Frontend Framework | {framework} ({version}) |
| CSS Framework | {cssFramework} |
| Language | {language} |
| Build Tool | {buildTool} |
| Package Manager | {packageManager} |
| Testing | {testFramework} |

## Directory Structure

```
{project-root}/
├── src/
│   ├── components/    # {componentPattern}
│   ├── pages/         # {pagePattern}
│   ├── styles/        # {styleApproach}
│   ├── hooks/         # Custom hooks
│   ├── api/           # API services
│   └── store/         # State management
├── public/            # Static assets
├── tests/             # Test files
└── {configFiles}
```

## Design System

| Aspect | Status | Details |
|--------|--------|---------|
| Design Tokens | {exists/missing} | {tokenFiles} |
| Component Library | {name or "custom"} | {details} |
| Storybook | {yes/no} | {configPath} |

## Coding Conventions

| Convention | Value |
|------------|-------|
| File Naming | {pattern} |
| Component Style | {singleFile/folderBased} |
| Comment Language | {language} |
| File Header | {pattern or "none"} |
| Path Aliases | {aliases} |
| Import Order | {pattern} |

## Figma Integration

| Item | Value |
|------|-------|
| Figma File | {url or "not specified"} |
| Target Framework Components | {frameworkComponentLibrary} |
| CSS Approach | {cssModules/tailwind/scss/etc} |
| Responsive Strategy | {mobileFirst/desktopFirst} |

## Notes for Downstream Skills

- **figma-design-token-extractor**: Output format should be {formats based on stack}
- **figma-framework-figma-mapper**: Use {preset or "custom"} preset
- **figma-design-analyzer**: Framework components from {library}
- **figma-responsive-validator**: CSS framework is {cssFramework}, check for {patterns}
```

---

## Output

- `context.md` — Project context file consumed by all downstream Figma skills
- Console summary with detected stack and any warnings

---

## Output Summary

```
## ✅ figma-project-context 完了

| 項目 | 検出結果 |
|------|---------|
| Framework | {framework} |
| CSS | {cssFramework} |
| Language | {language} |
| Design Tokens | {exists/missing} |
| Component Library | {name} |

生成ファイル: context.md ✅

⚠️ 注意事項:
- {any warnings, e.g., "No existing design tokens found — figma-design-token-extractor will create them from scratch"}
```

---

*Skill: figma-project-context | Category: figma | Version: v1.0 | Last updated: 2026-03-01*
